{"version":3,"sources":["components/Current.js","components/Item.js","components/Forecast.js","components/WeatherCard.js","components/Nav.js","components/Footer.js","components/assets/js/WeatherData.js","App.js","index.js"],"names":["Current","props","data","isMetric","location","time","TIME","Number","last_updated","split","bg","className","temp_c","temp_f","condition","text","country","humidity","wind_kph","wind_mph","weekday","item","index","date","Date","day","getDay","src","icon","alt","avgtemp_c","avgtemp_f","Forecast","forecast","forecastday","map","element","WeatherCard","useContext","Store","context","current","Nav","display","toLocaleDateString","undefined","year","month","state","setState","type","onClick","e","target","checked","Footer","href","title","border","rel","KEY","getWeatherData","IP","a","fetch","then","res","json","imperial","includes","global","React","createContext","App","useState","setContext","useEffect","Data","METRIC","Provider","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1fbda3bc.chunk.js","sourcesContent":["import './assets/css/Current.css'\r\n\r\n//https://coolors.co/5c03fa\r\n\r\nfunction getCurrentBackground(time){\r\n    if((time >= 0 && time <= 5) || (time >= 20 && time <= 24)){ // night\r\n        return 'night';\r\n    }\r\n    else if((time >= 9 && time <= 17)){\r\n        return 'day';\r\n    }\r\n    else{\r\n        return 'middle';\r\n    }\r\n}\r\n\r\nexport default function Current(props){\r\n    const { data, isMetric, location } = props;\r\n    if(!data)  return <div></div>\r\n    const TIME = Number(data && data.last_updated?data.last_updated.split(' ')[1].split(':')[0]:0);\r\n    const bg = getCurrentBackground(TIME);\r\n    return(\r\n        <div className={`content ${bg}`}>\r\n            <div className=\"current\">\r\n                <div>\r\n                    <div className=\"degree\">{isMetric? data.temp_c+'C' : data.temp_f+'F'}ยบ</div>\r\n                    <div className=\"condition spacing\">{(data && data.condition)?data.condition.text:''}</div>\r\n                </div>\r\n                <div className=\"location\">{location.country}</div>\r\n            </div>\r\n            <div className=\"metaData\">\r\n                <div>\r\n                    <div className=\"humidity spacing\">HUMIDITY</div>\r\n                    <div>{data.humidity}%</div>\r\n                </div>\r\n                <div className=\"line-break\"></div>\r\n                <div>\r\n                    <div className=\"wind spacing\">WIND</div>\r\n                    <div>{isMetric? data.wind_kph : data.wind_mph} <span className=\"condition spacing\">{isMetric? ' KM/H' : 'M/H'}</span></div>\r\n                </div>\r\n            </div>   \r\n        </div>\r\n    )\r\n}","import './assets/css/forecast.css';\r\nvar weekday = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\r\n\r\nexport default function item(props){\r\n    const {data, isMetric, index} = props;\r\n    const date = new Date();\r\n\r\n    const day = data.day;\r\n    return(\r\n        <div className=\"forecast-item\">\r\n            <div>{weekday[date.getDay() + index]}</div>\r\n            <div><img src={day.condition.icon} alt={day.condition.text}/></div>\r\n            <div>{isMetric? day.avgtemp_c + \"C\" : day.avgtemp_f + \"F\"}ยบ</div>\r\n            <div>{day.condition.text}</div>\r\n        </div>\r\n    )\r\n}","import Item from './Item';\r\n\r\nimport './assets/css/forecast.css';\r\n\r\nexport default function Forecast(props){\r\n    if(!props.data) return <div></div>\r\n    const {data, isMetric} = props;\r\n    const forecast = data.forecastday;\r\n\r\n\r\n    return(\r\n        <div className=\"forecast\">\r\n            {\r\n                forecast.map((element, index) =>{\r\n                    return <Item data={element} isMetric={isMetric} index={index} key={element.date}/>\r\n                })\r\n                \r\n            }\r\n        </div>\r\n    )\r\n}","import { React, useContext} from 'react';\r\nimport './assets/css/WeatherCard.css';\r\n\r\nimport Current from './Current';\r\nimport Forecast from './Forecast';\r\n\r\nimport { Store } from '../App';\r\n\r\nexport default function WeatherCard (props){\r\n\r\n    const [context] = useContext(Store);\r\n    \r\n    return (\r\n        <div className=\"frame\">\r\n            <Current data={context.current} isMetric={context.isMetric} location={context.location} />\r\n            <Forecast data={context.forecast} isMetric={context.isMetric} />\r\n        </div>\r\n    )\r\n    \r\n}\r\n","import './assets/css/Nav.css';\r\nimport { Store } from '../App';\r\nimport { useContext } from 'react';\r\n\r\nvar weekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\nfunction Nav(){\r\n    const date = new Date();\r\n    const options = { year: \"numeric\", month: \"long\", day: \"numeric\" }\r\n\r\n    const display = ` , ${date.toLocaleDateString(undefined, options)}`;\r\n    const [state, setState] = useContext(Store);\r\n\r\n    function handleClick(e){\r\n        setState({\r\n            ...state,\r\n            isMetric: !e.target.checked,\r\n        });\r\n        \r\n    }\r\n    return(\r\n        <div className=\"nav nav-style\">\r\n            <div>\r\n                <span className=\"logo\"></span>\r\n                <span className=\"title\">Live Weather</span>\r\n            </div>\r\n            <div>\r\n                <span className=\"bold\">\r\n                    {weekday[date.getDay()]}\r\n                </span>\r\n                {display}\r\n            </div>\r\n            <div className=\"check\">\r\n                Metric\r\n                <label className=\"switch\">\r\n                    <input type=\"checkbox\" onClick={handleClick} checked={!state.isMetric}/>\r\n                    <span className=\"slider round\"></span>\r\n                </label>\r\n                Imperial\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav;","import './assets/css/Nav.css'\r\n\r\nexport default function Footer (props){\r\n\r\n    return(\r\n        <div className=\"footer nav-style\">\r\n            <a  target=\"_blank\" href=\"https://www.weatherapi.com/\" title=\"Free Weather API\"><img className=\"footer-img\" src='//cdn.weatherapi.com/v4/images/weatherapi_logo.png' alt=\"Weather data by WeatherAPI.com\" border=\"0\" /></a>\r\n            <div className=\"ret\">Icons made by <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.flaticon.com/authors/those-icons\" title=\"Those Icons\">Those Icons</a> from <a target=\"_blank\" rel=\"noreferrer\" href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n        </div>\r\n    )\r\n}\r\n","const KEY = '2e0151e5466a45649d1105746201312';\r\n\r\nexport function getIP(){\r\n    return fetch('https://www.cloudflare.com/cdn-cgi/trace')\r\n    .then(res => res.text())\r\n    .then(data => {\r\n        let IP = data.split('\\n')[2].split('=')[1];\r\n        return IP;\r\n    });\r\n}\r\n\r\nexport async function getWeatherData(IP){\r\n return fetch(`http://api.weatherapi.com/v1/forecast.json?key=${KEY}&q=${IP}&days=5`)\r\n .then(res => res.json())\r\n .then(data => data)\r\n}\r\n\r\nexport async function isMetric({country}){  \r\n    const imperial = ['United States of America', 'Liberia', 'Myanmar']\r\n    return ! imperial.includes(country);\r\n}\r\n","import WeatherCard from './components/WeatherCard';\nimport Nav from './components/Nav';\nimport Footer from './components/Footer';\nimport React, { useState, useEffect } from 'react';\nimport { getIP, getWeatherData, isMetric } from './components/assets/js/WeatherData';\n\nimport './App.css'\n\nconst global = {\n  isMetric: false,\n  IP: undefined,\n  current: {},\n  forecast: {},\n  location: {},\n}\n\nexport const Store = React.createContext(global);\n\nfunction App() {\n\n  const [context, setContext] = useState(Store);\n  useEffect(() =>{\n    (async () => {\n      const IP =  await getIP();\n      const Data =  await getWeatherData(IP); \n      const METRIC = await isMetric(Data.location);\n      await setContext({\n          ...context, \n          IP,\n          current: Data.current,\n          forecast: Data.forecast,\n          location: Data.location,\n          isMetric: METRIC,\n      });\n    })();\n  }, []);\n\n  return (\n    <Store.Provider value={[context, setContext]}>\n      <div className=\"page style\">\n        <Nav />\n        <WeatherCard />\n        <Footer />\n      </div>\n    </Store.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}